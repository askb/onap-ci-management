---
# dcagen2_platform_common is defined in dcaegen2-platform-adapter.yaml

- project:
    <<: *dcaegen2_platform_common
    name: dcaegen2-platform-oti-event-handler
    # root of docker build
    docker-root: oti/event-handler
    # image name
    docker-name: '{name}'
    stream:
      - master:
            branch: master
    jobs:
      - '{project-name}-gerrit-docker-jobs'

- project:
    <<: *dcaegen2_platform_common
    name: dcagen2-platform-oti-event-handler-verify
    docker-root: oti/event-handler
    stream:
      - all:
            branch: '*'
    jobs:
      - gerrit-tox-verify

- project:
    <<: *dcaegen2_platform_common
    name: dcaegen2-platform-oti-event-handler-sonar
    docker-root: oti/event-handler
    branch: master
    jobs:
      - gerrit-tox-sonar
    cron: '@daily'

- project:
    <<: *dcaegen2_platform_common
    name: dcaegen2-platform-oti-event-handler-clm
    docker-root: oti/event-handler
    jobs:
      - gerrit-maven-clm
    nexus-iq-namespace: 'onap-'
    project-name: 'dcaegen2-platform-oti-event-handler-clm'
    mvn-params: '-f oti/event-handler/pom.xml'
    branch: 'master'
