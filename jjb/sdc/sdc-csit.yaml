---
- project:
      name: sdc-csit
      jobs:
          - '{project-name}-{stream}-verify-java':
                # this build is integration test only - CSIT (Verify 2/2)
                mvn-goals: clean install
                mvn-params: '-Dnpm.registry=https://nexus3.onap.org/repository/npm.public/ -Ddocker.skip.push=true -P docker,all-for-integration-tests-only'
                build-node: 'ubuntu1804-docker-8c-16g'
                archive-artifacts: >
                    **/*.log
                    **/hs_err_*.log
                    **/target/**/feature.xml
                    **/target/failsafe-reports/failsafe-summary.xml
                    **/target/surefire-reports/*-output.txt
                    integration-tests/target/ExtentReport/API/*.html
                    integration-tests/target/ExtentReport/UI/*.html
                    integration-tests/target/ExtentReport/UI/screenshots/*.png
                    /tmp/sdc-integration-tests/*.log*
                    /tmp/sdc-integration-tests/SDC/ONBOARDING-BE/*.log
                    /tmp/sdc-integration-tests/SDC/SDC-BE/*.log
                    /tmp/sdc-integration-tests/SDC/SDC-FE/*.log
      project-name: 'sdc-integration-tests'
      # project name in gerrit
      project: 'sdc'
      stream:
          - 'master':
                branch: 'master'
      java-version: openjdk11
      mvn-version: 'mvn36'
      mvn-settings: 'sdc-settings'
      mvn-global-settings: global-settings
